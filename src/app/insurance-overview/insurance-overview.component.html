<app-nav-bar></app-nav-bar>
<!DOCTYPE html>
<html lang="en">

<body>

<!-- Navigation -->

<nav class=" bg-light my-5 fixed-top ">
    <div class="container ">
        <div class="row  align-items-center">
            <div class="col-lg-7">
                <h3 class="display-4 text-black mt-2 mb-2">{{clientName}}'s Insurance List</h3>
            </div>
            <div class ="col-lg-3">
                <mat-form-field>
                    <mat-label>Budget</mat-label>
                    <input matInput type="number" placeholder="Budget" [(ngModel)]="budget">
                </mat-form-field><br>
            </div>
            <div class="col-lg-2">
                <button style = "background-color: white" mat-button color = "primary" (click)="calculateInsurance()">Calculate</button>
            </div>
        </div>
    </div>
</nav>

<!--<nav class="navbar navbar-toggleable-sm bg-inverse navbar-inverse fixed-top my-5" >-->
<!--    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar2">-->
<!--        <span class="navbar-toggler-icon"></span>-->
<!--    </button>-->
<!--    <a href="/" class="navbar-brand">Two</a>-->
<!--    <div class="navbar-collapse collapse" id="navbar2">-->
<!--        <ul class="navbar-nav">-->
<!--            ..-->
<!--        </ul>-->
<!--    </div>-->
<!--</nav>-->
<!-- Page Content -->

<br>
<br>
<br>
<div class="container">
    <br>


    <div class="row">
        <div class ="col-md-4" *ngFor="let insuranceItem of insuranceItemsValueChanges | async">
            <div >
                <br>
                <img class ="card" style="width: 200px">
                <div class=" card-body">
                    <h5 class="card-title">{{insuranceItem['payload'].val()['name']}}</h5>
                    <h6 class="card-text">{{insuranceItem['payload'].val()['description']}}</h6>
                    <mat-form-field>
                        <mat-label>Cost</mat-label>
                        <input matInput #cost type="number" placeholder=""></mat-form-field><br>
                    <mat-form-field>
                        <mat-label>Importance</mat-label>
                        <input matInput #importance type="number" placeholder="{{insuranceItem['payload'].val()['importance']}}"></mat-form-field><br>
                    <button style = "background-color: white" mat-button color = "primary" (click)="onUpdateInsuranceItemSubmit(insuranceItem, importance, cost)">Update</button>
                    <button style = "background-color: white" mat-button color = "primary" (click)="onRemoveInsuranceItemSubmit(insuranceItem)">Remove</button>
                </div>
            </div>


        </div>
        <div style = "display: inline-block" class = "col-md-4">
            <button (click)="openDialog()" style = "margin-top: 100px; margin-left: 100px;" mat-fab color = "primary" label = "add">+</button>
        </div>

    </div>
<!-- /.container -->
</div>

<div>
    <h1>CHAT</h1>
    <h2>{{(numCommentsChanges | async)?.payload.val() || 0}}</h2>
    <button (click)="makeComment()">Add comment</button>
    <div *ngFor="let comment of commentListChanges | async | orderBy: num : true">
        <div>{{comment|json}}</div>
    </div>
    <input type="text" placeholder="Comment" [(ngModel)]="newCommentText">
</div>

