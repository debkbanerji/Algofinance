<app-nav-bar></app-nav-bar>
<!DOCTYPE html>
<html lang="en">

<body>

<!-- Navigation -->

<!-- Header -->
<header class="bg-light py-5 mb-5">
    <div class="container h-100">
        <div class="row h-100 align-items-center">
            <div class="col-lg-12">
                <h2 class="display-4 text-black mt-5 mb-2">View Insurance Items</h2>
            </div>
        </div>
    </div>
</header>
<h1>{{clientName}}'s Data</h1>

<!-- Page Content -->
<div class="container">
    <h5>Add New Item</h5>
    <div class="row">

<!--        <div>-->
            <div class="col-md-6">
            <mat-form-field><input type="text" matInput placeholder="Item" [(ngModel)]="newName"></mat-form-field><br>
            <mat-form-field><input type="number" matInput placeholder="Cost" [(ngModel)]="newCost"></mat-form-field><br>
            <mat-form-field><input type="text" matInput placeholder="Description" [(ngModel)]="newDescription"></mat-form-field><br>
<!--            <input type="number" name="newImportance" placeholder="Importance" [(ngModel)]="newImportance"><br>-->
                <label>Importance</label><br>
                <mat-slider min="1" max="100" step="1" thumbLabel ></mat-slider>
            <br>
                <button style = "background-color: white" mat-button color = "primary" (click)="onAddInsuranceItemSubmit()">Submit</button>
            </div>
            <div class="col-md-6">
                <mat-form-field>
                    <mat-label>Budget</mat-label>
                    <input matInput type="number" placeholder="Budget" [(ngModel)]="budget"></mat-form-field><br>
                <button style = "background-color: white" mat-button color = "primary" (click)="calculateInsurance()">Calculate</button>
            </div>

        <div *ngFor="let insuranceItem of insuranceItemsValueChanges | async">
            <br>
<!--            <img class="card" style="width: 200px">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">{{insuranceItem['payload'].val()['name']}}</h5>-->
<!--                <h6 class="card-text">{{insuranceItem['payload'].val()['description']}}</h6>-->
<!--                <mat-form-field>-->
<!--                    <mat-label>Cost</mat-label>-->
<!--                    <input matInput #cost type="number" placeholder="{{insuranceItem['payload'].val()['cost']}}">-->
<!--                </mat-form-field>-->
<!--                <br>-->
<!--                <mat-form-field>-->
<!--                    <mat-label>Importance</mat-label>-->
<!--                    <input matInput #importance type="number"-->
<!--                           placeholder="{{insuranceItem['payload'].val()['importance']}}"></mat-form-field>-->
<!--                <br>-->

                <img class ="card" style="width: 200px">
                <div class="card-body">
                    <h5 class="card-title">{{insuranceItem['payload'].val()['name']}}</h5>
                    <h6 class="card-text">{{insuranceItem['payload'].val()['description']}}</h6>
                    <mat-form-field>
                        <mat-label>Cost</mat-label>
                            <input matInput #cost type="number" placeholder=""></mat-form-field><br>
                    <mat-form-field>
                        <mat-label>Importance</mat-label>
                        <input matInput #importance type="number" placeholder="{{insuranceItem['payload'].val()['importance']}}"></mat-form-field><br>
                    <button style = "background-color: white" mat-button color = "primary" (click)="onUpdateInsuranceItemSubmit(insuranceItem, importance, cost)">Update</button>
                    <button style = "background-color: white" mat-button color = "primary" (click)="onRemoveInsuranceItemSubmit(insuranceItem)">Remove</button>
                </div>
<!--            </div>-->
<!--        </div>-->
    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>

<div>
    <h1>CHAT</h1>
    <h2>{{(numCommentsChanges | async)?.payload.val() || 0}}</h2>
    <button (click)="makeComment()">Add comment</button>
    <div *ngFor="let comment of commentListChanges | async | orderBy: num : true">
        <div>{{comment|json}}</div>
    </div>
    <input type="text" placeholder="Comment" [(ngModel)]="newCommentText">
</div>

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Algofinance 2019</p>
    </div>
    <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
